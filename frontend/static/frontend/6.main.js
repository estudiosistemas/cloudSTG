(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{397:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(58);t.a=function(e){var t=e.handleEditar,n=e.handleBorrar,r=e.handleInhabilitar,i=e.handleSetup,l=e.rowData,c={label:"Inactivar",className:"p-button-warning",icon:"pi pi-thumbs-down"};return l.estado||(c={label:"Activar",className:"p-button-success",icon:"pi pi-thumbs-up"}),o.a.createElement("div",null,n?o.a.createElement(a.Button,{type:"button",icon:"pi pi-trash",className:"p-button-danger",tooltip:"Borrar",tooltipOptions:{position:"bottom"},style:{marginRight:".5em"},onClick:function(){return n(l)}}):null,r?o.a.createElement(a.Button,{type:"button",icon:c.icon,className:c.className,tooltip:c.label,tooltipOptions:{position:"bottom"},style:{marginRight:".5em"},onClick:function(){return r(l)}}):null,t?o.a.createElement(a.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-info",tooltip:"Editar",tooltipOptions:{position:"bottom"},style:{marginRight:".5em"},onClick:function(){return t(l)}}):null,i?o.a.createElement(a.Button,{type:"button",icon:"pi pi-cog",className:"p-button-secondary",tooltip:"Configurar",tooltipOptions:{position:"bottom"},style:{marginRight:".5em"},onClick:function(){return i(l)}}):null)}},402:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(399),i=n(58);t.a=function(e){var t=e.texto,n=e.visible,l=e.handleBorrar,c=e.toggleSidebar,u=e.selectedItem;return o.a.createElement(a.Sidebar,{visible:n,position:"top",className:"ui-sidebar-sm",onHide:function(e){return c()}},o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"p-grid"},o.a.createElement("div",{className:"p-col-12",style:{textAlign:"center"}},o.a.createElement("h2",null,t)),o.a.createElement("div",{className:"p-col",style:{marginTop:"1em",textAlign:"center"}},o.a.createElement(i.Button,{label:"Borrar",icon:"pi pi-trash",className:"p-button-danger",onClick:function(){l(u.id),c()}}),o.a.createElement(i.Button,{style:{margin:"0px 4px 4px 8px"},label:"Cancelar",icon:"pi pi-undo",className:"p-button-primary",onClick:function(){return c()}})))))}},405:function(e,t,n){"use strict";e.exports=n(408)},408:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox=void 0;var r=function(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}}n.default=e,t&&t.set(e,n);return n}(n(0)),o=l(n(16)),a=l(n(65)),i=l(n(112));function l(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=p(t).call(this,e))||"object"!==u(o)&&"function"!=typeof o?m(r):o).state={},n.onClick=n.onClick.bind(m(n)),n.onFocus=n.onFocus.bind(m(n)),n.onBlur=n.onBlur.bind(m(n)),n.onKeyDown=n.onKeyDown.bind(m(n)),n}var n,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(o=[{key:"onClick",value:function(e){this.props.disabled||this.props.readOnly||!this.props.onChange||(this.props.onChange({originalEvent:e,value:this.props.value,checked:!this.props.checked,stopPropagation:function(){},preventDefault:function(){},target:{type:"checkbox",name:this.props.name,id:this.props.id,value:this.props.value,checked:!this.props.checked}}),this.input.checked=!this.props.checked,this.input.focus(),e.preventDefault())}},{key:"componentDidMount",value:function(){this.props.tooltip&&this.renderTooltip()}},{key:"componentWillUnmount",value:function(){this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)}},{key:"componentDidUpdate",value:function(e){this.input.checked=this.props.checked,e.tooltip!==this.props.tooltip&&(this.tooltip?this.tooltip.updateContent(this.props.tooltip):this.renderTooltip())}},{key:"onFocus",value:function(){this.setState({focused:!0})}},{key:"onBlur",value:function(){this.setState({focused:!1})}},{key:"onKeyDown",value:function(e){"Enter"===e.key&&(this.onClick(e),e.preventDefault())}},{key:"renderTooltip",value:function(){this.tooltip=new i.default({target:this.element,content:this.props.tooltip,options:this.props.tooltipOptions})}},{key:"render",value:function(){var e=this,t=(0,a.default)("p-checkbox p-component",this.props.className),n=(0,a.default)("p-checkbox-box p-component",{"p-highlight":this.props.checked,"p-disabled":this.props.disabled,"p-focus":this.state.focused}),o=(0,a.default)("p-checkbox-icon p-c",{"pi pi-check":this.props.checked});return r.default.createElement("div",{ref:function(t){return e.element=t},id:this.props.id,className:t,style:this.props.style,onClick:this.onClick,onContextMenu:this.props.onContextMenu,onMouseDown:this.props.onMouseDown},r.default.createElement("div",{className:"p-hidden-accessible"},r.default.createElement("input",{type:"checkbox","aria-labelledby":this.props.ariaLabelledBy,ref:function(t){return e.input=t},id:this.props.inputId,name:this.props.name,defaultChecked:this.props.checked,onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,disabled:this.props.disabled,readOnly:this.props.readOnly,required:this.props.required})),r.default.createElement("div",{className:n,ref:function(t){return e.box=t},role:"checkbox","aria-checked":this.props.checked},r.default.createElement("span",{className:o})))}}])&&s(n.prototype,o),l&&s(n,l),t}(r.Component);t.Checkbox=b,f(b,"defaultProps",{id:null,inputId:null,value:null,name:null,checked:!1,style:null,className:null,disabled:!1,required:!1,readOnly:!1,tooltip:null,tooltipOptions:null,ariaLabelledBy:null,onChange:null,onMouseDown:null,onContextMenu:null}),f(b,"propTypes",{id:o.default.string,inputId:o.default.string,value:o.default.any,name:o.default.string,checked:o.default.bool,style:o.default.object,className:o.default.string,disabled:o.default.bool,required:o.default.bool,readOnly:o.default.bool,tooltip:o.default.string,tooltipOptions:o.default.object,ariaLabelledBy:o.default.string,onChange:o.default.func,onMouseDown:o.default.func,onContextMenu:o.default.func})},419:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(13),i=n.n(a),l=n(398),c=n(37);function u(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e,t){var n=s(Object(r.useState)(t),2),a=n[0],p=n[1],m=s(Object(r.useState)([]),2),d=m[0],f=m[1],b=Object(r.useContext)(c.a).tokenConfig,h=function(e){p(e.value)},y=function(){switch(e){case"tipocomprobante":return{url:"/api/tiposcomprobantechoice",placeholder:"Seleccione Tipo",elemento:null};case"conceptocomprobante":return{url:"/api/conceptoscomprobante",placeholder:"Seleccione Concepto",elemento:0}}};Object(r.useEffect)((function(){i.a.get(y().url,b()).then((function(e){var t=e.data.reduce((function(e,t){return[].concat(u(e),[{id:t[0],nombre:t[1]}])}),[]);f(t),null!=y().elemento&&p(t[y().elemento])})).catch((function(e){return console.log(e.response.statusText)}))}),[]);var g=function(e){return e.nombre};return[a,function(){return o.a.createElement(l.Dropdown,{style:{width:"90%"},autoWidth:!0,value:a,options:d,itemTemplate:g,optionLabel:"nombre",onChange:h,placeholder:y().placeholder})},p]}},480:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(414),i=n(400),l=n(401),c=n(58),u=n(26),s=n(397),p=n(402),m=n(27),d=n(419),f=n(66),b=n(405);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){var t=e.editar,n=Object(r.useContext)(a.a),i=n.comprobante,l=n.showForm,s=n.mostrarFormulario,p=n.addComprobante,h=n.updateComprobante,E=n.setComprobante,x=(i.id,i.codigo_AFIP),O=i.descripcion,C=i.tipo_comprobante,w=i.es_sistema,k=v(Object(d.a)("tipocomprobante",{}),3),j=k[0],S=k[1],N=k[2],A=Object(r.useContext)(m.a).showMessage,P=function(e){E(y({},i,g({},e.target.name,e.target.value.toUpperCase())))};return Object(r.useEffect)((function(){N(C)}),[C]),o.a.createElement(r.Fragment,null,l?o.a.createElement("div",{className:"p-grid  p-justify-center",style:{margin:"20px 0px 50px 0px"}},o.a.createElement("div",{className:"p-col "},o.a.createElement("div",{className:"card"},t?o.a.createElement("h1",null,"Editar Comprobante"):o.a.createElement("h1",null,"Agregar Comprobante"),o.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),Object(f.b)(O)|null==j)A({msg:"Hay campos vacíos",title:"Error",type:"error"});else{var n=y({},i,{tipo_comprobante:j});t?h(n):p(n)}}},o.a.createElement("div",{className:"p-col-4"},o.a.createElement("span",{className:"p-float-label",style:{margin:"25px 0px 25px 0px"}},o.a.createElement(u.InputText,{id:"descripcion",name:"descripcion",onChange:P,value:O||"",size:"50",maxLength:"100",autoFocus:!0}),o.a.createElement("label",{htmlFor:"descripcion"},"Descripción Comprobante")),o.a.createElement("span",{className:"p-float-label",style:{margin:"25px 0px 0px 0px"}},o.a.createElement(u.InputText,{id:"codAfip",name:"codigo_AFIP",onChange:P,value:x||"",size:"50",keyfilter:"pnum",maxLength:"3"}),o.a.createElement("label",{htmlFor:"codAfip"},"Código AFIP")),o.a.createElement("div",{style:{margin:"25px 0px 25px 0px"}},o.a.createElement(S,null)),o.a.createElement("label",{style:{marginTop:"1em",marginRight:"1em"}},"Es Sistema"),o.a.createElement(b.Checkbox,{checked:w,onChange:function(e){E(y({},i,{es_sistema:e.checked}))}}),o.a.createElement("br",null)),o.a.createElement("div",null,o.a.createElement(c.Button,{style:{margin:"15px 0px 0px 0px"},label:"Grabar",icon:"pi pi-save",className:"p-button-success",type:"submit"}),o.a.createElement(c.Button,{style:{margin:"15px 0px 0px 10px"},label:"Cancelar",icon:"pi pi-undo",className:"p-button-primary",onClick:function(){return s()}})))))):null)};function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=O(Object(r.useState)({visible:!1}),2),n=t[0],m=t[1],d=O(Object(r.useState)(!1),2),f=d[0],b=d[1],h=O(Object(r.useState)({id:null,numero:null}),2),y=h[0],g=h[1],v=O(Object(r.useState)(""),2),E=v[0],C=v[1],w=O(Object(r.useState)({}),2),k=w[0],j=w[1],S=O(Object(r.useState)({}),2),N=S[0],A=S[1],P=Object(r.useContext)(a.a),I=P.comprobantes,_=P.puntosVenta_Comprobante,D=P.mostrarFormulario,B=P.getComprobantes,T=P.deleteComprobante,F=P.setComprobante,M=P.getPuntoVenta_Comprobantes,R=P.updateComprobantePtoVenta,K=function(e){F(e),b(!0),D()},L=function(e){j(e),U()},U=function(){m({visible:!n.visible})},W=function(e){g({id:parseInt(e.target.name),numero:e.target.value})};return o.a.createRef(),Object(r.useEffect)((function(){B(),M()}),[]),o.a.createElement(r.Fragment,null,o.a.createElement(x,{editar:f}),o.a.createElement("div",{className:"p-grid"},o.a.createElement("div",{className:"p-col-12"},o.a.createElement("div",{className:"card"},o.a.createElement("h1",null,"Comprobantes"),o.a.createElement(p.a,{texto:"¿Está seguro de borrar este comprobante?",visible:n.visible,handleBorrar:T,toggleSidebar:U,selectedItem:k}),o.a.createElement("div",{style:{textAlign:"right"},className:"p-col-12"},o.a.createElement("i",{className:"pi pi-search",style:{margin:"4px 4px 4px 8px"}}),o.a.createElement(u.InputText,{type:"search",onInput:function(e){return C(e.target.value)},placeholder:"Buscar",size:"50"}),o.a.createElement(c.Button,{style:{margin:"4px 4px 4px 8px"},label:"Agregar",icon:"pi pi-plus",className:"p-button-success",onClick:function(){return b(!1),F({}),void D()}})),o.a.createElement(i.DataTable,{style:{margin:"20px 0px 0px 0px"},value:I,globalFilter:E,emptyMessage:"No se encontraron registros",paginator:!0,rows:10,rowsPerPageOptions:[5,10,20,50],expandedRows:N,onRowToggle:function(e){return A(e.data)},rowExpansionTemplate:function(e){var t=_.filter((function(t){return t.comprobante==e.id}));return o.a.createElement("div",{className:"p-grid p-fluid",style:{padding:"2em 1em 1em 1em"}},o.a.createElement("div",{className:"p-col"},t.map((function(e){return e.estado?o.a.createElement("div",{key:e.id,className:"p-grid p-align-center"},o.a.createElement("div",{className:"p-md-2"},"Punto de Venta: "),o.a.createElement("div",{className:"p-md-4",style:{fontWeight:"bold"}},e.punto_venta.punto_venta.toString().padStart(5,0)," -"," ",e.punto_venta.descripcion),o.a.createElement("div",{className:"p-md-1"},"Número: "),o.a.createElement("div",{className:"p-md-2",style:{fontWeight:"bold"}},o.a.createElement(u.InputText,{name:e.id,onChange:W,keyfilter:"pnum",placeholder:e.numero})),o.a.createElement("div",{className:"p-md-2"},o.a.createElement(c.Button,{tooltip:"Grabar",icon:"pi pi-save",className:"p-button-success",onClick:function(){e.id==y.id&&R(y)}}))):null}))))},sortField:"id",sortOrder:1,dataKey:"id",responsive:!0},o.a.createElement(l.Column,{expander:!0,style:{width:"3em"}}),o.a.createElement(l.Column,{field:"id",header:"Id",sortable:!0,style:{width:"150px",textAlign:"center"}}),o.a.createElement(l.Column,{field:"descripcion",header:"Comprobante",sortable:!0}),o.a.createElement(l.Column,{field:"codigo_AFIP",header:"Cód. AFIP",sortable:!1,style:{textAlign:"center",width:"10em"}}),o.a.createElement(l.Column,{field:"tipo_comprobante.nombre",header:"Tipo",sortable:!1,style:{textAlign:"center",width:"8em"}}),o.a.createElement(l.Column,{body:function(e,t){return o.a.createElement(s.a,{handleBorrar:L,handleEditar:K,rowData:e})},style:{textAlign:"center",width:"8em"}}))))))}}}]);